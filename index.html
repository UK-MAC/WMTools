<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>WMTools by Warwick-PCAV</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>WMTools</h1>
        <p>Warwick Memory Tools - Suite of tools for parallel application memory consumption analysis</p>

        <p class="view"><a href="https://github.com/Warwick-PCAV/WMTools">View the Project on GitHub <small>Warwick-PCAV/WMTools</small></a></p>


        <ul>
          <li><a href="https://github.com/Warwick-PCAV/WMTools/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/Warwick-PCAV/WMTools/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/Warwick-PCAV/WMTools">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>Written as a PhD project by <a href="http://www2.warwick.ac.uk/fac/sci/dcs/people/research/csrfan/">Oliver Perks</a> at the University of Warwick. WMTools is a suite of applications designed to assist with the profiling and subsequent analysis of memory consumption data for parallel applications.</p>

<p>Even at large scale many applications still stuggle with excessive memory consumption. This project aims to provide the necessasary tools to analyse the memory usage and help identify memory problems.</p>

<p>The project consists of a shard library for tracing the application in question, and a set of applications to analyse the resulting output. The tracing library is designed for MPI applications based on standard POSIX memory management (C, C++ and Fortran), and requires no application recompilation.</p>

<p>Currently there is no support for hybrid languages, or accelerators, but it is an active area of research and development, and we hope to release a new version with support in the near future.</p>

<p>For any other feature requests, please submit an issue.</p>

<h3>WMTrace</h3>

<p>WMTrace is the data collector for the tool suite. It attaches to an application on load, and quietly collects data about the memory management. Data collected during this phase is streamed to file, in a compressed binary format.</p>

<p>The performance impact of the tracer is application dependant. The volume of memory management calls, coupled with the depth of call stacks will impact on the slowdown, and volume of data generated.</p>

<h3>WMAnalysis</h3>

<p>WMAnalysis is the base analysis class, providing information on total memory consumption High Water Mark (HWM).</p>

<p>Due to the parallel nature of the execution environment the tool also reports HWM variation, in the form of Max, Min and Standard Deviation of the HWM of each process in the job.</p>

<p>WMAnalysis is also the basis for some deeper analysis, including temporal and functional breakdowns. The tools is able to output memory consumption over time, for each process, in the form of a GNUPlot graph script. It can also produce a list of memory allocations grouped by call site location, and ordered by size, helping to identify the largest consuming functions.</p>

<p><img src="http://www2.warwick.ac.uk/fac/sci/dcs/research/pcav/areas/hpc/download/phdmesh.png" alt="WMAnalysis graph of phdMesh HWM on 4 cores"></p>

<p>The image above demonstrates the memory consumption profile of rank 2, as part of a 4 core execution of phdMesh.</p>

<h3>WMModel</h3>

<p>WMModel is an experimental analysis feature. By analysing multiple HWM trace files, the tool identifies patterns in memory consumption. This is done by looking at the trend between allocation size within the same call stack location. By relating the growth of allocation size related to the problem size and core count the tool produces a generalised formula to predict HWM at different problem scale.</p>

<h3>WMHeatMap</h3>

<p>WMHeatMap is another means of data visualisation. The tool produces a VisIt output (in Silo format) mapping consumption over time for all processors in the job grouped by rank. The data is sampled from the complete temporal trace, and highlights any imbalance between the memory consumption between processes.</p>

<h1>Publications</h1>

<p>Perks, O.F.J. and Beckingsale, D.A. and Hammond, S.D. and Miller, I. and Herdman, J.A. and Vadgama, A. and Bhalerao, A.H. and He, L. and Jarvis, S.A. (2012) <a href="http://eprints.dcs.warwick.ac.uk/1583/">Towards Automated Memory Model Generation Via Event Tracing.</a> The Computer Journal. ISSN 0010-4620</p>

<p>Perks, O.F.J. and Hammond, S.D. and Pennycook, S.J. and Jarvis, S.A. (2011) <a href="http://eprints.dcs.warwick.ac.uk/785/">WMTools - Assessing Parallel Application Memory Utilisation at Scale.</a> Computer Performance Engineering. Lecture Notes in Computer Science, 6977. pp. 148-162.</p>

<p>Perks, O.F.J. and Hammond, S.D. and Pennycook, S.J. and Jarvis, S.A. (2011) <a href="http://eprints.dcs.warwick.ac.uk/727/">WMTrace - A Lightweight Memory Allocation Tracker and Analysis Framework.</a> In: Proceedings of the UK Performance Engineering Workshop (UKPEW'11), 7-8th July, 2011, Bradford, United Kingdom.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/Warwick-PCAV">Warwick-PCAV</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36190086-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
